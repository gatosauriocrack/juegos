// Se elimina toda la configuración e inicialización de Firebaseconst APPS_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbzIvOkpHTKY-zvEJ_ab0tkqOOd0tRBkvPJNFM5PVf2Z0d0tRBkvPJNFM5PVrQ/exec';// Se eliminan variables de Firebase/Authconst sidebar = document.getElementById("mySidebar");const menuOverlay = document.getElementById("menuOverlay");// Se eliminan loginText, profilePhoto, profileIcon, logoutLink, sidebarProfileSection, authModalconst views = document.querySelectorAll('.main-content');const searchInput = document.getElementById('searchInput');const contentGallery = document.getElementById('contentGallery');const loadingMessage = document.getElementById('loadingMessage');let allContentData = [];// Se eliminan todas las variables de edición de perfil// profileAvatar, profileBannerArea, displayNameInput, userEmailDisplay, profileStatus, appIconHolder// Se eliminan variables de estado de archivos// pendingAvatarFile, pendingBannerFile// DEFAULT_AVATAR, DEFAULT_BANNER_COLORfunction isMobile() {    return window.innerWidth < 900;}function closeMenu() {    if (isMobile()) {        sidebar.style.width = "0";        sidebar.classList.remove('open');        menuOverlay.style.display = "none";    }}function toggleMenu() {    if (isMobile()) {        if (sidebar.classList.contains('open')) {            closeMenu();        } else {            sidebar.style.width = "250px";            sidebar.classList.add('open');            menuOverlay.style.display = "block";        }    }}function showScreen(screenId) {    if (isMobile()) {        closeMenu();    }    views.forEach(view => {        view.classList.remove('active');    });    const activeView = document.getElementById(screenId);    activeView.classList.add('active');    if (screenId === 'home-screen') {        loadContent();    }        // Se elimina la lógica condicional de 'profile-screen'}// Se elimina handleProfileClickfunction handleProfileClick() {    // Ya no hay perfil, simplemente no hace nada o puedes redirigir a 'info-screen' si quieres    showScreen('info-screen');}// Se elimina closeModalOnOutsideClickfunction closeModalOnOutsideClick(event) {    // Vacío}function initializeApp() {    if (!isMobile()) {        sidebar.style.width = "250px";        sidebar.classList.add('open');    }    if (!document.querySelector('.main-content.active')) {        showScreen('home-screen');    }    sidebar.addEventListener('click', (event) => {        if (sidebar.classList.contains('open')) {            event.stopPropagation();        }    });    // Como eliminamos sidebarProfileSection, loginText, etc., no queda lógica de inicialización de perfil aquí.}// Se eliminan openAuthModal, closeAuthModal, displayAuthMessage, signInWithGoogle, logout// Se eliminan getLocalStorageKey, displayLocalImage, uploadFileToStorage, loadUserProfileData, updateUserProfile, displayProfileStatusfunction renderContentCard(item) {    const card = document.createElement('div');    card.className = 'content-card';    const fileURL = item.fileURL || '';    let mediaElement;    const isVideo = item.fileType && item.fileType.startsWith('video/');    const defaultPreview = `https://via.placeholder.com/300x250/333/ccc?text=${isVideo ? 'Video' : 'Media'}`;    if (isVideo) {        mediaElement = `<div class="card-media" style="background-image: url('${defaultPreview}'); display: flex; align-items: center; justify-content: center;">                            <a href="${item.fileURL.replace('=s300', '')}" target="_blank" style="color: white; font-size: 2em;"><i class="fas fa-play-circle"></i></a>                        </div>`;    } else {        mediaElement = `<img class="card-media" src="${fileURL}" alt="${item.title}" onclick="window.open('${item.fileURL.replace('=s300', '')}', '_blank')">`;    }    const tagsHTML = Array.isArray(item.tags) ? item.tags.map(tag => `<span class="tag-button" onclick="filterContent('${tag}')">${tag}</span>`).join('') : '';    const date = item.timestamp ? new Date(item.timestamp).toLocaleDateString() : 'Desconocida';    const defaultAuthorPhoto = 'https://via.placeholder.com/25/EA7900/FFFFFF?text=A';    card.innerHTML = `        ${mediaElement}        <div class="card-details">            <h3>${item.title}</h3>            <p>${item.description}</p>            <div class="card-tags">${tagsHTML}</div>            <div class="card-footer">                <div class="card-author">                    <img class="author-photo" src="${item.authorPhotoURL || defaultAuthorPhoto}" alt="Foto de autor">                    <span>${item.authorName}</span>                </div>                <span><i class="far fa-clock"></i> ${date}</span>            </div>        </div>    `;    return card;}async function loadContent() {    contentGallery.innerHTML = '';    loadingMessage.style.display = 'block';    try {        const response = await fetch(APPS_SCRIPT_URL);        const files = await response.json();        loadingMessage.style.display = 'none';        allContentData = files;        if (files.length === 0) {            contentGallery.innerHTML = '<p style="color: #999; width: 100%; text-align: center;">Aún no hay contenido indexado. ¡Sube algo!</p>';            return;        }        allContentData.forEach((item) => {            const cardElement = renderContentCard(item);            contentGallery.appendChild(cardElement);        });    } catch (error) {        console.error("Error al cargar el contenido: ", error);        loadingMessage.textContent = 'Error al cargar el contenido. Revisa el código y despliegue del Apps Script.';        loadingMessage.style.color = '#f44336';    }}function filterContent(tagToFilter) {    const query = (tagToFilter || searchInput.value || '').toLowerCase().trim();    contentGallery.innerHTML = '';    const filteredData = allContentData.filter(item => {        if (!query) return true;        const titleMatch = item.title.toLowerCase().includes(query);        const descMatch = item.description.toLowerCase().includes(query);        const authorMatch = item.authorName.toLowerCase().includes(query);        const tagsMatch = item.tags && item.tags.some(tag => tag.toLowerCase().includes(query));        return titleMatch || descMatch || authorMatch || tagsMatch;    });    if (filteredData.length === 0) {         contentGallery.innerHTML = `<p style="color: #999; width: 100%; text-align: center;">No se encontraron resultados para "${query}".</p>`;    } else {         filteredData.forEach((item) => {            const cardElement = renderContentCard(item);            contentGallery.appendChild(cardElement);        });    }}// Se elimina auth.onAuthStateChangeddocument.addEventListener('DOMContentLoaded', initializeApp);window.addEventListener('resize', () => {     if (window.innerWidth >= 900) {         sidebar.style.width = "250px";         sidebar.classList.add('open');         menuOverlay.style.display = "none";     } else {          if (sidebar.classList.contains('open')) {             closeMenu();          }     }});document.addEventListener('DOMContentLoaded', () => showScreen('home-screen'));window.showScreen = showScreen;window.toggleMenu = toggleMenu;window.handleProfileClick = handleProfileClick;window.closeModalOnOutsideClick = closeModalOnOutsideClick; window.filterContent = filterContent;